# 加密货币价格查看器使用说明

## 安装和启动方法

### 方法一：使用启动脚本（推荐）

1. 双击运行`build_app.sh`脚本（或在终端中执行`./build_app.sh`）来构建应用程序
2. 构建完成后，执行`./launch.sh`脚本启动应用程序
3. 应用程序将在后台运行，请查看屏幕顶部菜单栏是否显示加密货币价格

### 方法二：通过双击应用程序图标启动

1. 双击运行`build_app.sh`脚本构建应用程序
2. 构建完成后，会生成`CryptoStatusBar.app`应用程序包
3. 右键点击(或Control+点击)`CryptoStatusBar.app`，选择"打开"
4. 在弹出的对话框中再次选择"打开"

### 方法三：通过终端直接运行可执行文件

如果您遇到任何启动问题，可以尝试直接运行可执行文件：

```
./CryptoStatusBar.app/Contents/MacOS/CryptoStatusBar
```

## 解决"应用程序已损坏"错误

如果您看到"应用程序已损坏"或"无法验证开发者"的错误提示，这是因为macOS的安全机制（Gatekeeper）阻止了未签名的应用程序运行。您可以通过以下方法解决：

1. **使用启动脚本**：
   - 直接使用`./launch.sh`脚本来启动应用程序，它会自动处理安全限制

2. **通过右键菜单打开**：
   - 右键点击(或Control+点击)`CryptoStatusBar.app`
   - 在弹出的菜单中选择"打开"
   - 在弹出的对话框中再次点击"打开"
   
3. **通过终端移除隔离属性**：
   - 打开终端
   - 输入以下命令：
     ```
     xattr -dr com.apple.quarantine CryptoStatusBar.app
     ```
   - 然后正常双击打开应用程序

## 使用方法

### 基本功能

1. 应用程序启动后，会在屏幕顶部的菜单栏中显示选定加密货币的当前价格
2. 点击菜单栏图标可以查看下拉菜单，包含以下选项：
   - 收藏：显示您收藏的加密货币列表
   - 价格详情：显示当前选择的加密货币的24小时价格变动信息
   - 管理收藏：打开产品列表窗口，可以添加或移除收藏
   - 设置：打开设置窗口，可以自定义应用程序行为
   - 刷新：手动更新价格数据
   - 退出：关闭应用程序

### 管理收藏

1. 点击"管理收藏..."选项打开产品列表窗口
2. 在窗口中可以切换"收藏"和"所有产品"两个标签页
3. 点击产品旁边的星形图标可以添加或移除收藏
4. 对于已收藏的产品，点击显示器图标可以将其设为菜单栏显示的产品

### 应用设置

点击"设置..."选项打开设置窗口，可以配置以下选项：

1. **显示设置**
   - 紧凑模式：减小菜单栏显示的字体大小
   - 小数点位数：设置价格显示的小数位数
   - 显示货币单位：选择显示USD、CNY或不显示货币单位
   - 价格变动颜色：设置是否使用颜色标识价格变动

2. **外观**
   - 使用系统外观：跟随系统的深色/浅色模式
   - 深色模式：手动设置深色模式（仅在不使用系统外观时可用）

3. **通知设置**
   - 价格显著变动通知：当价格变动超过阈值时发送通知
   - 变动阈值：设置价格变动通知的阈值

4. **数据刷新**
   - 刷新间隔：设置自动刷新价格数据的时间间隔
   - 显示网络状态指示器：在菜单栏显示网络连接状态

5. **系统设置**
   - 开机时启动：设置应用程序是否在系统启动时自动运行
   - 重置所有设置：将所有设置恢复为默认值
   - 清除所有数据：清除所有设置和收藏数据

## 特点

- 在macOS菜单栏显示加密货币价格
- 通过WebSocket实时获取价格数据
- 后台运行，不占用Dock空间
- 无需打开终端即可运行

## 故障排除

- **应用程序显示"加载中..."**：请检查您的网络连接是否正常，以及OKX的API服务是否可用。
- **应用程序无法启动**：请使用上方提供的"方法三：通过终端直接运行可执行文件"。
- **菜单栏图标未显示**：确保应用程序正在运行，可以通过活动监视器检查。
- **价格数据未更新**：点击菜单中的"刷新"选项，或检查网络连接状态。
- **WebSocket连接失败**：在设置窗口中点击"重新连接"按钮，或重启应用程序。

## 重新构建

如果您修改了代码或需要更新应用程序，只需再次运行`build_app.sh`脚本即可重新构建应用程序。 